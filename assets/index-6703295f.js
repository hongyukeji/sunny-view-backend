var q=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(n,t,o)=>t in n?q(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,x=(n,t)=>{for(var o in t||(t={}))Q.call(t,o)&&T(n,o,t[o]);if(P)for(var o of P(t))Z.call(t,o)&&T(n,o,t[o]);return n},L=(n,t)=>G(n,J(t));var b=(n,t,o)=>new Promise((c,i)=>{var h=u=>{try{m(o.next(u))}catch(_){i(_)}},d=u=>{try{m(o.throw(u))}catch(_){i(_)}},m=u=>u.done?c(u.value):Promise.resolve(u.value).then(h,d);m((o=o.apply(n,t)).next())});import{p as z,n as H,B as w,a3 as K,w as X,b as Y}from"./index.js";import{B as ee}from"./BasicForm-7e3a59df.js";import"./componentMap-8c5d2fac.js";import{u as te}from"./useForm-eae86464.js";import"./RadioButtonGroup-63152489.js";import{f as g,d as O,c as D,o as ae,Z as $,_ as se,$ as y,l as a,u as e,a9 as s,N as oe,ac as ne,k as re,E as M,a1 as ie,a0 as le,a8 as pe}from"./vue-ea98dac5.js";import{U as E,p as F,aC as ce,T as I,a9 as ue,aD as de,aq as me,a2 as fe,aE as ge,aF as he,A as _e}from"./antd-168c158e.js";import{P as ve}from"./index-46052efd.js";import{d as Ce}from"./table-e1e44be4.js";import"./FormItem.vue_vue_type_script_lang-60e73ebf.js";import"./isNumber-6e063d5c.js";import"./isBoolean-e59585aa.js";import"./get-921f7259.js";import"./uniqBy-989d5baf.js";import"./index-567227c5.js";import"./useWindowSizeFn-9a9a25b4.js";import"./useFormItem-1ece48e0.js";import"./uuid-31b8b5a4.js";import"./useSortable-3cb9ef53.js";import"./download-4dc1f19b.js";import"./base64Conver-39fc0d26.js";import"./index-3f191529.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-96857a86.js";import"./copyTextToClipboard-38cd3bdb.js";import"./index-1608b1f9.js";import"./useContentViewHeight-6fc1b870.js";import"./onMountedOrActivated-3eb95ecd.js";const C=g(12),ye=(n=6,t=12)=>({min:n,max:t,marks:(()=>{const c={};for(let i=n;i<t+1;i++)c[i]={style:{color:"#fff"},label:i};return c})(),step:1}),be={class:"p-2"},we={class:"p-4 mb-2 bg-white"},Me={class:"p-2 bg-white"},Se={class:"flex justify-end space-x-2"},xe=y("div",{class:"w-50"},"每行显示数量",-1),ke=O({__name:"CardList",props:{params:z.object.def({}),api:z.func},emits:["getMethod","delete"],setup(n,{emit:t}){const o=n,c=E.Item,i=F.Meta,h=ce.Paragraph,d=D(()=>ye(4)),m=g([]),u=D(()=>`h-${120-C.value*6}`),[_,{validate:N}]=te({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:R});function R(){return b(this,null,function*(){const r=yield N();yield f(r)})}function A(r){v.value=r*4,f()}ae(()=>{f(),t("getMethod",f)});function f(){return b(this,arguments,function*(r={}){const{api:l,params:p}=o;if(l&&H(l)){const B=yield l(x(L(x({},p),{page:S.value,pageSize:v.value}),r));m.value=B.items,k.value=B.total}})}const S=g(1),v=g(36),k=g(0),V=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:S,total:k,showTotal:r=>`总 ${r} 条`,onChange:j,onShowSizeChange:U});function j(r,l){S.value=r,v.value=l,f()}function U(r,l){v.value=l,f()}function W(r){return b(this,null,function*(){t("delete",r)})}return(r,l)=>($(),se("div",be,[y("div",we,[a(e(ee),{onRegister:e(_)},null,8,["onRegister"])]),y("div",Me,[a(e(E),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:e(C)},"data-source":m.value,pagination:V.value},{header:s(()=>[y("div",Se,[oe(r.$slots,"header"),a(e(I),null,{title:s(()=>[xe,a(e(ue),ne({id:"slider"},d.value,{value:e(C),"onUpdate:value":l[0]||(l[0]=p=>re(C)?C.value=p:null),onChange:A}),null,16,["value"])]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(de))]),_:1})]),_:1}),a(e(I),{onClick:f},{title:s(()=>[M("刷新")]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(me))]),_:1})]),_:1})])]),renderItem:s(({item:p})=>[a(e(c),null,{default:s(()=>[a(e(F),null,{title:s(()=>[]),cover:s(()=>[y("div",{class:ie(u.value)},[a(e(fe),{src:p.imgs[0]},null,8,["src"])],2)]),actions:s(()=>[a(e(ge)),a(e(K),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:W.bind(null,p.id)}}],popconfirm:""},{default:s(()=>[a(e(he))]),_:2},1032,["dropMenuList"])]),default:s(()=>[a(e(i),null,{title:s(()=>[a(e(h),{content:p.name,ellipsis:{tooltip:p.address}},null,8,["content","ellipsis"])]),avatar:s(()=>[a(e(_e),{src:p.avatar},null,8,["src"])]),description:s(()=>[M(le(p.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])]))}}),Be=X(ke),at=O({__name:"index",setup(n){const{notification:t}=Y(),o={};let c=()=>{};function i(d){c=d}function h(d){t.success({message:`成功删除${d}`}),c()}return(d,m)=>($(),pe(e(ve),{title:"卡片列表示例",content:"基础封装"},{default:s(()=>[a(e(Be),{params:o,api:e(Ce),onGetMethod:i,onDelete:h},{header:s(()=>[a(e(w),{type:"primary",color:"error"},{default:s(()=>[M(" 按钮1 ")]),_:1}),a(e(w),{type:"primary",color:"success"},{default:s(()=>[M(" 按钮2 ")]),_:1})]),_:1},8,["api"])]),_:1}))}});export{at as default};
