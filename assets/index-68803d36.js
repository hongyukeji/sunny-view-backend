import{a as f,p as b,h as O,m as R,l as E,s as N,_ as P}from"./index.js";import{D as V}from"./siteSetting-efd6ab5b.js";import{c as h,u as x}from"./index-861fe79c.js";import{b as v}from"./index-567227c5.js";import{h as B}from"./header-55b09394.js";import{D as T,d as A}from"./antd-168c158e.js";import{d as F,c as z,a7 as t,Z as n,_ as H,l as r,a9 as k,a8 as a,ab as s,$ as i,a1 as p,a0 as W,F as Z}from"./vue-ea98dac5.js";import"./uniq-e2f49495.js";import"./isBoolean-e59585aa.js";import"./index-16a69a03.js";import"./useContentViewHeight-6fc1b870.js";import"./useWindowSizeFn-9a9a25b4.js";import"./uniqBy-989d5baf.js";import"./get-921f7259.js";import"./useSortable-3cb9ef53.js";import"./index-8c1d35df.js";import"./isNumber-6e063d5c.js";import"./lock-5abd8579.js";const j=F({name:"UserDropdown",components:{Dropdown:T,Menu:A,MenuItem:h(()=>f(()=>import("./DropMenuItem-300e8205.js"),["assets/DropMenuItem-300e8205.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-168c158e.js","assets/index-c4dd1657.css"])),MenuDivider:A.Divider,LockAction:h(()=>f(()=>import("./LockModal-922c4018.js"),["assets/LockModal-922c4018.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-168c158e.js","assets/index-c4dd1657.css","assets/index-567227c5.js","assets/useWindowSizeFn-9a9a25b4.js","assets/index-81b08c04.css","assets/BasicForm-7e3a59df.js","assets/FormItem.vue_vue_type_script_lang-60e73ebf.js","assets/componentMap-8c5d2fac.js","assets/useFormItem-1ece48e0.js","assets/get-921f7259.js","assets/RadioButtonGroup-63152489.js","assets/isBoolean-e59585aa.js","assets/uuid-31b8b5a4.js","assets/useSortable-3cb9ef53.js","assets/download-4dc1f19b.js","assets/base64Conver-39fc0d26.js","assets/index-3f191529.js","assets/index-f47e3178.css","assets/IconPicker.vue_vue_type_script_setup_true_lang-96857a86.js","assets/copyTextToClipboard-38cd3bdb.js","assets/index-1608b1f9.js","assets/index-7f5b8959.css","assets/componentMap-6528b260.css","assets/isNumber-6e063d5c.js","assets/uniqBy-989d5baf.js","assets/BasicForm-a35f51a7.css","assets/useForm-eae86464.js","assets/lock-5abd8579.js","assets/header-55b09394.js","assets/LockModal-ca58db68.css"])),ChangeApi:h(()=>f(()=>import("./index-f367a938.js"),["assets/index-f367a938.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-168c158e.js","assets/index-c4dd1657.css","assets/index-567227c5.js","assets/useWindowSizeFn-9a9a25b4.js","assets/index-81b08c04.css","assets/BasicForm-7e3a59df.js","assets/FormItem.vue_vue_type_script_lang-60e73ebf.js","assets/componentMap-8c5d2fac.js","assets/useFormItem-1ece48e0.js","assets/get-921f7259.js","assets/RadioButtonGroup-63152489.js","assets/isBoolean-e59585aa.js","assets/uuid-31b8b5a4.js","assets/useSortable-3cb9ef53.js","assets/download-4dc1f19b.js","assets/base64Conver-39fc0d26.js","assets/index-3f191529.js","assets/index-f47e3178.css","assets/IconPicker.vue_vue_type_script_setup_true_lang-96857a86.js","assets/copyTextToClipboard-38cd3bdb.js","assets/index-1608b1f9.js","assets/index-7f5b8959.css","assets/componentMap-6528b260.css","assets/isNumber-6e063d5c.js","assets/uniqBy-989d5baf.js","assets/BasicForm-a35f51a7.css","assets/useForm-eae86464.js"]))},props:{theme:b.oneOf(["dark","light"])},setup(){const{prefixCls:e}=O("header-user-dropdown"),{t:C}=E(),{getShowDoc:D,getUseLockPage:w,getShowApi:y}=x(),l=R(),o=z(()=>{const{realName:_="",avatar:S,desc:U}=l.getUserInfo||{};return{realName:_,avatar:S||B,desc:U}}),[c,{openModal:d}]=v(),[u,{openModal:m}]=v();function g(){d(!0)}function L(){m(!0,{})}function M(){l.confirmLoginOut()}function I(){N(V)}function $(_){switch(_.key){case"logout":M();break;case"doc":I();break;case"lock":g();break;case"api":L();break}}return{prefixCls:e,t:C,getUserInfo:o,handleMenuClick:$,getShowDoc:D,getShowApi:y,register:c,registerApi:u,getUseLockPage:w}}});const q=["src"];function G(e,C,D,w,y,l){const o=t("MenuItem"),c=t("MenuDivider"),d=t("Menu"),u=t("Dropdown"),m=t("LockAction"),g=t("ChangeApi");return n(),H(Z,null,[r(u,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:k(()=>[r(d,{onClick:e.handleMenuClick},{default:k(()=>[e.getShowDoc?(n(),a(o,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):s("",!0),e.getShowDoc?(n(),a(c,{key:1})):s("",!0),e.getShowApi?(n(),a(o,{key:"api",text:e.t("layout.header.dropdownChangeApi"),icon:"ant-design:swap-outlined"},null,8,["text"])):s("",!0),e.getUseLockPage?(n(),a(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):s("",!0),r(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:k(()=>[i("span",{class:p([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[i("img",{class:p(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,q),i("span",{class:p(`${e.prefixCls}__info hidden md:block`)},[i("span",{class:p([`${e.prefixCls}__name`,"truncate"])},W(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),r(m,{onRegister:e.register},null,8,["onRegister"]),r(g,{onRegister:e.registerApi},null,8,["onRegister"])],64)}const me=P(j,[["render",G]]);export{me as default};
