var N=Object.defineProperty,A=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var D=(e,n,o)=>n in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,F=(e,n)=>{for(var o in n||(n={}))y.call(n,o)&&D(e,o,n[o]);if(C)for(var o of C(n))I.call(n,o)&&D(e,o,n[o]);return e},$=(e,n)=>A(e,M(n));import{P as S}from"./index-46052efd.js";import{p as u,l as U,aU as Y,aV as P,av as R,Z as w,q as k,U as H,_ as O,w as V,C as W}from"./index.js";import{i as j}from"./isNumber-6e063d5c.js";import{d as b,f as q,w as Z,Z as E,_ as G,a0 as z,r as J,G as K,a7 as h,a8 as L,a9 as f,l,$ as v}from"./vue-ea98dac5.js";import"./useContentViewHeight-6fc1b870.js";import"./useWindowSizeFn-9a9a25b4.js";import"./onMountedOrActivated-3eb95ecd.js";import"./antd-168c158e.js";const p=1e3,d=p*60,_=d*60,B=_*24,Q=b({name:"Time",props:{value:u.oneOfType([u.number,u.instanceOf(Date),u.string]).isRequired,step:u.number.def(60),mode:u.oneOf(["date","datetime","relative"]).def("relative")},setup(e){const n=q(""),{t:o}=U();Y(m,e.step*p),Z(()=>e.value,()=>{m()},{immediate:!0});function T(){const{value:t}=e;let s=0;if(j(t)){const i=t.toString().length>10?t:t*1e3;s=new Date(i).getTime()}else k(t)?s=new Date(t).getTime():H(t)&&(s=t.getTime());return s}function m(){const{mode:t,value:s}=e,i=T();t==="relative"?n.value=g(i):t==="datetime"?n.value=P(s):t==="date"&&(n.value=R(s))}function g(t){const s=new Date().getTime(),i=w(t).isBefore(s);let a=s-t;i||(a=-a);let r="",c=o(i?"component.time.before":"component.time.after");return a<p?r=o("component.time.just"):a<d?r=parseInt(a/p)+o("component.time.seconds")+c:a>=d&&a<_?r=Math.floor(a/d)+o("component.time.minutes")+c:a>=_&&a<B?r=Math.floor(a/_)+o("component.time.hours")+c:a>=B&&a<262386e4?r=Math.floor(a/B)+o("component.time.days")+c:a>=262386e4&&a<=3156786e4&&i?r=w(t).format("MM-DD-HH-mm"):r=w(t).format("YYYY"),r}return{date:n}}});function X(e,n,o,T,m,g){return E(),G("span",null,z(e.date),1)}const x=O(Q,[["render",X]]),ee=V(x),te=b({components:{PageWrapper:S,Time:ee,CollapseContainer:W},setup(){const e=new Date().getTime(),n=J({time1:e-60*3*1e3,time2:e-86400*3*1e3});return $(F({},K(n)),{now:e})}}),ne=v("br",null,null,-1),oe=v("br",null,null,-1),ae=v("br",null,null,-1),se=v("br",null,null,-1);function le(e,n,o,T,m,g){const t=h("Time"),s=h("CollapseContainer"),i=h("PageWrapper");return E(),L(i,{title:"时间组件示例"},{default:f(()=>[l(s,{title:"基础示例"},{default:f(()=>[l(t,{value:e.time1},null,8,["value"]),ne,l(t,{value:e.time2},null,8,["value"])]),_:1}),l(s,{title:"定时更新",class:"my-4"},{default:f(()=>[l(t,{value:e.now,step:1},null,8,["value"]),oe,l(t,{value:e.now,step:5},null,8,["value"])]),_:1}),l(s,{title:"定时更新"},{default:f(()=>[l(t,{value:e.now,mode:"date"},null,8,["value"]),ae,l(t,{value:e.now,mode:"datetime"},null,8,["value"]),se,l(t,{value:e.now},null,8,["value"])]),_:1})]),_:1})}const ve=O(te,[["render",le]]);export{ve as default};
